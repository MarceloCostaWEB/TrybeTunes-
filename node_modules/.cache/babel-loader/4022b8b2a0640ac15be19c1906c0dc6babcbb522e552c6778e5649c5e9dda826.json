{"ast":null,"code":"var _jsxFileName = \"/home/oem/projetos/sd-027-a-project-trybetunes/src/pages/ProfileEdit.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getUser, updateUser } from '../services/userAPI';\nimport Header from '../components/Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      name: '',\n      email: '',\n      description: '',\n      image: '',\n      disabled: true\n    };\n    this.callGetUser = async () => {\n      const returnUserGet = await getUser();\n      this.setState({\n        name: returnUserGet.name,\n        email: returnUserGet.email,\n        description: returnUserGet.description,\n        image: returnUserGet.image\n      });\n    };\n    this.onChange = _ref => {\n      let {\n        target\n      } = _ref;\n      this.setState({\n        [target.name]: target.value\n      }, this.verifyButton);\n    };\n    this.verifyButton = () => {\n      const {\n        name,\n        email,\n        description,\n        image\n      } = this.state;\n      const verification = name.length > 0 && email.length > 0 && image.length > 0 && description.length > 0;\n      if (verification) {\n        this.setState({\n          disabled: false\n        });\n      } else this.setState({\n        disabled: true\n      });\n    };\n    this.sendInformation = async e => {\n      e.preventDefault();\n      const {\n        history\n      } = this.props;\n      const {\n        name,\n        email,\n        description,\n        image\n      } = this.state;\n      const obj = {\n        name,\n        email,\n        image,\n        description\n      };\n      await updateUser(obj);\n      return history.push('/profile');\n    };\n  }\n  componentDidMount() {\n    this.callGetUser();\n  }\n  render() {\n    const {\n      name,\n      email,\n      description,\n      image,\n      disabled\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-profile-edit\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: [\"Qual o nome que quer ser chamado(a)?\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            \"data-testid\": \"edit-input-name\",\n            id: \"name\",\n            name: \"name\",\n            value: name,\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: [\"Qual o e-mail que voc\\xEA mais utiliza?\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            \"data-testid\": \"edit-input-email\",\n            id: \"email\",\n            name: \"email\",\n            value: email,\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          children: [\"Me fale um pouco sobre voc\\xEA:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text-area\",\n            \"data-testid\": \"edit-input-description\",\n            id: \"description\",\n            name: \"description\",\n            value: description,\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"image\",\n          children: [\"Insira a URL de uma foto bem bonita sua:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            \"data-testid\": \"edit-input-image\",\n            id: \"image\",\n            name: \"image\",\n            value: image,\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          \"data-testid\": \"edit-button-save\",\n          disabled: disabled,\n          onClick: this.sendInformation,\n          children: \"Editar perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n}\nProfileEdit.propTypes = {\n  push: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired\n};\nexport default ProfileEdit;","map":{"version":3,"names":["React","PropTypes","getUser","updateUser","Header","ProfileEdit","Component","state","name","email","description","image","disabled","callGetUser","returnUserGet","setState","onChange","target","value","verifyButton","verification","length","sendInformation","e","preventDefault","history","props","obj","push","componentDidMount","render","propTypes","func","isRequired","shape"],"sources":["/home/oem/projetos/sd-027-a-project-trybetunes/src/pages/ProfileEdit.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getUser, updateUser } from '../services/userAPI';\nimport Header from '../components/Header';\n\nclass ProfileEdit extends React.Component {\n  state = {\n    name: '',\n    email: '',\n    description: '',\n    image: '',\n    disabled: true,\n  };\n\n  componentDidMount() {\n    this.callGetUser();\n  }\n\n  callGetUser = async () => {\n    const returnUserGet = await getUser();\n    this.setState({\n      name: returnUserGet.name,\n      email: returnUserGet.email,\n      description: returnUserGet.description,\n      image: returnUserGet.image,\n    });\n  };\n\n  onChange = ({ target }) => {\n    this.setState({\n      [target.name]: target.value,\n    }, this.verifyButton);\n  };\n\n  verifyButton = () => {\n    const { name, email, description, image } = this.state;\n    const verification = name.length > 0\n    && email.length > 0 && image.length > 0 && description.length > 0;\n    if (verification) {\n      this.setState({ disabled: false });\n    } else this.setState({ disabled: true });\n  };\n\n  sendInformation = async (e) => {\n    e.preventDefault();\n    const { history } = this.props;\n    const { name, email, description, image } = this.state;\n    const obj = {\n      name,\n      email,\n      image,\n      description,\n    };\n    await updateUser(obj);\n    return history.push('/profile');\n  };\n\n  render() {\n    const { name, email, description, image, disabled } = this.state;\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n        <form>\n          <label htmlFor=\"name\">\n            Qual o nome que quer ser chamado(a)?\n            <input\n              type=\"text\"\n              data-testid=\"edit-input-name\"\n              id=\"name\"\n              name=\"name\"\n              value={ name }\n              onChange={ this.onChange }\n            />\n          </label>\n          <label htmlFor=\"email\">\n            Qual o e-mail que você mais utiliza?\n            <input\n              type=\"text\"\n              data-testid=\"edit-input-email\"\n              id=\"email\"\n              name=\"email\"\n              value={ email }\n              onChange={ this.onChange }\n            />\n          </label>\n          <label htmlFor=\"description\">\n            Me fale um pouco sobre você:\n            <input\n              type=\"text-area\"\n              data-testid=\"edit-input-description\"\n              id=\"description\"\n              name=\"description\"\n              value={ description }\n              onChange={ this.onChange }\n            />\n          </label>\n          <label htmlFor=\"image\">\n            Insira a URL de uma foto bem bonita sua:\n            <input\n              type=\"text\"\n              data-testid=\"edit-input-image\"\n              id=\"image\"\n              name=\"image\"\n              value={ image }\n              onChange={ this.onChange }\n            />\n\n          </label>\n          <button\n            type=\"submit\"\n            data-testid=\"edit-button-save\"\n            disabled={ disabled }\n            onClick={ this.sendInformation }\n          >\n            Editar perfil\n\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\nProfileEdit.propTypes = {\n  push: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default ProfileEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}