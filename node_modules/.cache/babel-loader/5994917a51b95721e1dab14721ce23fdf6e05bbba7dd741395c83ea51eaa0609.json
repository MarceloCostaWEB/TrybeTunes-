{"ast":null,"code":"var _jsxFileName = \"/home/oem/projetos/sd-027-a-project-trybetunes/src/pages/Search.jsx\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Loading from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.artistSearch = async () => {\n      const {\n        inputArtistBand\n      } = this.state;\n      this.setState({\n        loading: true\n      });\n      const response = await searchAlbumsAPI(inputArtistBand);\n      console.log(response);\n      this.setState({\n        inputArtistBand: '',\n        resultSeach: response,\n        loading: false,\n        seach: inputArtistBand\n      });\n    };\n    this.handleChangeButton = _ref => {\n      let {\n        target: {\n          name,\n          value\n        }\n      } = _ref;\n      this.setState({\n        [name]: value\n      });\n      if (name === 'inputArtistBand') {\n        const number2 = 2;\n        if (value.length >= number2) {\n          this.setState({\n            disabledButton: false\n          });\n        }\n      }\n    };\n    this.state = {\n      inputArtistBand: '',\n      /* Valor do estado - digitado no campo ' busca por artista ou banda ' */\n      disabledButton: true,\n      /* Desabilita o botao de busca */\n      loading: false,\n      resultSeach: ''\n    };\n  }\n  componentDidMount() {\n    this.artistSearch();\n  }\n  render() {\n    const {\n      inputArtistBand,\n      disabledButton,\n      loading,\n      resultSeach,\n      seach\n    } = this.state;\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 27\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          \"data-testid\": \"search-artist-input\",\n          name: \"inputArtistBand\",\n          value: inputArtistBand,\n          onChange: this.handleChangeButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          \"data-testid\": \"search-artist-button\",\n          disabled: disabledButton,\n          onClick: this.artistSearch,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), resultSeach.length === 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Nenhum \\xE1lbum foi encontrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 39\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [`Resultado de álbuns de: ${seach}`, resultSeach.map(element => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: element.collectionName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"artworkUrl100\",\n            alt: \"collectionName\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/album/${element.collectionId}`,\n            \"data-testid\": `link-to-album-${element.collectionId}`,\n            children: \"Acesse o album\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 19\n          }, this)]\n        }, element.collectionId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Search;","map":{"version":3,"names":["React","Link","Header","searchAlbumsAPI","Loading","Search","Component","constructor","artistSearch","inputArtistBand","state","setState","loading","response","console","log","resultSeach","seach","handleChangeButton","target","name","value","number2","length","disabledButton","componentDidMount","render","map","element","collectionName","collectionId"],"sources":["/home/oem/projetos/sd-027-a-project-trybetunes/src/pages/Search.jsx"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Loading from '../components/Loading';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      inputArtistBand: '', /* Valor do estado - digitado no campo ' busca por artista ou banda ' */\n      disabledButton: true, /* Desabilita o botao de busca */\n      loading: false,\n      resultSeach: '',\n    };\n  }\n\n  componentDidMount() {\n    this.artistSearch();\n  }\n\n  artistSearch = async () => {\n    const { inputArtistBand } = this.state;\n    this.setState({\n      loading: true,\n    });\n    const response = await searchAlbumsAPI(inputArtistBand);\n    console.log(response);\n    this.setState({\n      inputArtistBand: '',\n      resultSeach: response,\n      loading: false,\n      seach: inputArtistBand,\n    });\n  };\n\n  handleChangeButton = ({ target: { name, value } }) => {\n    this.setState({\n      [name]: value,\n    });\n    if (name === 'inputArtistBand') {\n      const number2 = 2;\n      if (value.length >= number2) {\n        this.setState({\n          disabledButton: false,\n        });\n      }\n    }\n  };\n\n  render() {\n    const {\n      inputArtistBand,\n      disabledButton,\n      loading,\n      resultSeach,\n      seach,\n    } = this.state;\n\n    if (loading) { return <Loading />; }\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n        <form>\n          <input\n            type=\"text\"\n            data-testid=\"search-artist-input\"\n            name=\"inputArtistBand\"\n            value={ inputArtistBand }\n            onChange={ this.handleChangeButton }\n          />\n          <button\n            type=\"button\"\n            data-testid=\"search-artist-button\"\n            disabled={ disabledButton }\n            onClick={ this.artistSearch }\n          >\n            Search\n          </button>\n        </form>\n        { resultSeach.length === 0 ? (<h2>Nenhum álbum foi encontrado</h2>)\n          : (\n            <div>\n              {`Resultado de álbuns de: ${seach}`}\n              {resultSeach.map((element) => (\n\n                <div key={ element.collectionId }>\n                  <p>{ element.collectionName}</p>\n                  <img src=\"artworkUrl100\" alt=\"collectionName\" />\n                  <Link\n                    to={ `/album/${element.collectionId}` }\n                    data-testid={ `link-to-album-${element.collectionId}` }\n                  >\n                    Acesse o album\n                  </Link>\n                </div>\n              ))}\n            </div>\n          )}\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}