{"ast":null,"code":"var _jsxFileName = \"/home/oem/projetos/sd-027-a-project-trybetunes/src/pages/Login.jsx\";\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { createUser } from '../services/userAPI';\nimport Loading from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      inputName: '',\n      disabledButton: true,\n      loading: false\n    };\n    this.handleChange = _ref => {\n      let {\n        target: {\n          name,\n          value\n        }\n      } = _ref;\n      this.setState({\n        [name]: value\n      });\n      if (name === 'inputName') {\n        const number3 = 3;\n        if (value.length >= number3) {\n          this.setState({\n            disabledButton: false\n          });\n        }\n      }\n    };\n    this.handleClickButton = async event => {\n      event.preventDefault();\n      const {\n        history\n      } = this.props;\n      const {\n        inputName\n      } = this.state;\n      this.setState({\n        loading: true\n      });\n      await createUser({\n        name: inputName\n      });\n      history.push('/search');\n    };\n  }\n  render() {\n    const {\n      inputName,\n      disabledButton,\n      loading\n    } = this.state;\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 27\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-login\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"inputName\",\n          \"data-testid\": \"login-name-input\",\n          id: \"inputName\",\n          placeholder: \"Qual \\xE9 o seu nome?\",\n          onChange: this.handleChange,\n          value: inputName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          \"data-testid\": \"login-submit-button\",\n          disabled: disabledButton,\n          onClick: this.handleClickButton,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  }\n}\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired\n};\nexport default Login;","map":{"version":3,"names":["PropTypes","React","Component","createUser","Loading","Login","state","inputName","disabledButton","loading","handleChange","target","name","value","setState","number3","length","handleClickButton","event","preventDefault","history","props","push","render","propTypes","shape","func","isRequired"],"sources":["/home/oem/projetos/sd-027-a-project-trybetunes/src/pages/Login.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { createUser } from '../services/userAPI';\nimport Loading from '../components/Loading';\n\nclass Login extends Component {\n  state = {\n    inputName: '',\n    disabledButton: true,\n    loading: false,\n  };\n\n  handleChange = ({ target: { name, value } }) => {\n    this.setState({\n      [name]: value,\n    });\n    if (name === 'inputName') {\n      const number3 = 3;\n      if (value.length >= number3) {\n        this.setState({\n          disabledButton: false,\n        });\n      }\n    }\n  };\n\n  handleClickButton = async (event) => {\n    event.preventDefault();\n    const { history } = this.props;\n    const { inputName } = this.state;\n    this.setState({\n      loading: true,\n    });\n    await createUser({ name: inputName });\n    history.push('/search');\n  };\n\n  render() {\n    const { inputName, disabledButton, loading } = this.state;\n    if (loading) { return <Loading />; }\n    return (\n      <div data-testid=\"page-login\">\n        <form>\n\n          <input\n            type=\"text\"\n            name=\"inputName\"\n            data-testid=\"login-name-input\"\n            id=\"inputName\"\n            placeholder=\"Qual Ã© o seu nome?\"\n            onChange={ this.handleChange }\n            value={ inputName }\n          />\n\n          <button\n            type=\"button\"\n            data-testid=\"login-submit-button\"\n            disabled={ disabledButton }\n            onClick={ this.handleClickButton }\n          >\n            Entrar\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nexport default Login;\n"],"mappings":";AAAA,OAAOA,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,UAAU,QAAQ,qBAAqB;AAChD,OAAOC,OAAO,MAAM,uBAAuB;AAAC;AAE5C,MAAMC,KAAK,SAASH,SAAS,CAAC;EAAA;IAAA;IAAA,KAC5BI,KAAK,GAAG;MACNC,SAAS,EAAE,EAAE;MACbC,cAAc,EAAE,IAAI;MACpBC,OAAO,EAAE;IACX,CAAC;IAAA,KAEDC,YAAY,GAAG,QAAiC;MAAA,IAAhC;QAAEC,MAAM,EAAE;UAAEC,IAAI;UAAEC;QAAM;MAAE,CAAC;MACzC,IAAI,CAACC,QAAQ,CAAC;QACZ,CAACF,IAAI,GAAGC;MACV,CAAC,CAAC;MACF,IAAID,IAAI,KAAK,WAAW,EAAE;QACxB,MAAMG,OAAO,GAAG,CAAC;QACjB,IAAIF,KAAK,CAACG,MAAM,IAAID,OAAO,EAAE;UAC3B,IAAI,CAACD,QAAQ,CAAC;YACZN,cAAc,EAAE;UAClB,CAAC,CAAC;QACJ;MACF;IACF,CAAC;IAAA,KAEDS,iBAAiB,GAAG,MAAOC,KAAK,IAAK;MACnCA,KAAK,CAACC,cAAc,EAAE;MACtB,MAAM;QAAEC;MAAQ,CAAC,GAAG,IAAI,CAACC,KAAK;MAC9B,MAAM;QAAEd;MAAU,CAAC,GAAG,IAAI,CAACD,KAAK;MAChC,IAAI,CAACQ,QAAQ,CAAC;QACZL,OAAO,EAAE;MACX,CAAC,CAAC;MACF,MAAMN,UAAU,CAAC;QAAES,IAAI,EAAEL;MAAU,CAAC,CAAC;MACrCa,OAAO,CAACE,IAAI,CAAC,SAAS,CAAC;IACzB,CAAC;EAAA;EAEDC,MAAM,GAAG;IACP,MAAM;MAAEhB,SAAS;MAAEC,cAAc;MAAEC;IAAQ,CAAC,GAAG,IAAI,CAACH,KAAK;IACzD,IAAIG,OAAO,EAAE;MAAE,oBAAO,QAAC,OAAO;QAAA;QAAA;QAAA;MAAA,QAAG;IAAE;IACnC,oBACE;MAAK,eAAY,YAAY;MAAA,uBAC3B;QAAA,wBAEE;UACE,IAAI,EAAC,MAAM;UACX,IAAI,EAAC,WAAW;UAChB,eAAY,kBAAkB;UAC9B,EAAE,EAAC,WAAW;UACd,WAAW,EAAC,uBAAoB;UAChC,QAAQ,EAAG,IAAI,CAACC,YAAc;UAC9B,KAAK,EAAGH;QAAW;UAAA;UAAA;UAAA;QAAA,QACnB,eAEF;UACE,IAAI,EAAC,QAAQ;UACb,eAAY,qBAAqB;UACjC,QAAQ,EAAGC,cAAgB;UAC3B,OAAO,EAAG,IAAI,CAACS,iBAAmB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAG3B;MAAA;QAAA;QAAA;QAAA;MAAA;IACJ;MAAA;MAAA;MAAA;IAAA,QACH;EAEV;AACF;AAEAZ,KAAK,CAACmB,SAAS,GAAG;EAChBJ,OAAO,EAAEpB,SAAS,CAACyB,KAAK,CAAC;IACvBH,IAAI,EAAEtB,SAAS,CAAC0B;EAClB,CAAC,CAAC,CAACC;AACL,CAAC;AAED,eAAetB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}